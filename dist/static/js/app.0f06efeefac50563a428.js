webpackJsonp([4],{NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7+uW"),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var a=n("VU/8")({},o,!1,function(e){n("QC4K")},null,null).exports,s=n("/ocq");r.default.use(s.a),s.a.prototype.goBack=function(){this.isBack=!0,window.history.go(-1)};var c,u=new s.a({mode:"history",scrollBehavior:function(e,t,n){return n||{x:0,y:0}},routes:[{path:"/",redirect:"index"},{path:"/index",name:"index",component:function(e){return n.e(0).then(function(){return e(n("JXTs"))}.bind(null,n)).catch(n.oe)},beforeEnter:function(e,t,n){console.log("to",e.path),console.log("from",t.path),n()},afterEnter:function(e){console.log(e)}},{path:"/doctor/list",component:function(e){return n.e(2).then(function(){return e(n("1mtt"))}.bind(null,n)).catch(n.oe)}},{path:"/doctor/detail/:doctorId",component:function(e){return n.e(1).then(function(){return e(n("Em/3"))}.bind(null,n)).catch(n.oe)}}]}),i=n("NYxO"),d=n("bOdI"),f=n.n(d),p=n("Dd8w"),l=n.n(p),h=(c={},f()(c,"RECORD_ADDRESS",function(e,t){var n=t.latitude,r=t.longitude;e.latitude=n,e.longitude=r}),f()(c,"ADD_CART",function(e,t){var n=t.shopid,r=t.category_id,o=t.item_id,a=t.food_id,s=t.name,c=t.price,u=t.specs,i=t.packing_fee,d=t.sku_id,f=t.stock,p=e.cartList,h=p[n]=p[n]||{},m=h[r]=h[r]||{},v=m[o]=m[o]||{};v[a]?v[a].num++:v[a]={num:1,id:a,name:s,price:c,specs:u,packing_fee:i,sku_id:d,stock:f},e.cartList=l()({},p)}),c),m=n("Xxa5"),v=n.n(m),w=n("exGp"),b=n.n(w),g={getUserInfo:function(e){var t=this,n=e.commit;e.state;return b()(v.a.mark(function e(){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,getUser();case 2:r=e.sent,n("RECORD_ADDRESS",r);case 4:case"end":return e.stop()}},e,t)}))()},saveAddress:function(e){var t=this,n=e.commit,r=e.state;return b()(v.a.mark(function e(){var o;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.removeAddress.length>0)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,getAddressList(r.userInfo.user_id);case 4:o=e.sent,n("ADD_CART",o);case 6:case"end":return e.stop()}},e,t)}))()}};r.default.use(i.a);var k=new i.a.Store({state:{latitude:""},getters:{},actions:g,mutations:h}),_=n("yXtV"),A=n.n(_),x=(n("uMhA"),n("zL8q")),E=n.n(x),D=(n("tvR6"),n("//Fk")),R=n.n(D),y=n("mtWM"),O=n.n(y);n("mw3O");O.a.defaults.baseURL=" https://www.easy-mock.com/mock/5b2b53bd15c3bc6ee52cfc8d/ca-b2b",O.a.defaults.headers.common.Authorization=Object({NODE_ENV:"production"}).API_TOKEN,O.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8",O.a.defaults.withCredentials=!0,O.a.interceptors.request.use(function(e){var t=sessionStorage.getItem("token");return t&&(e.headers.Authorization="bearer "+t),e},function(e){return R.a.reject(e)}),O.a.interceptors.response.use(function(e){e.data&&e.data.errcode&&40001===parseInt(e.data.errcode)&&bus.$emit("goto","/login");var t=e.headers["new-token"];return t&&Vue.ls.set("web-token",t),e},function(e){var t=e.response;return 401==t.status||403==t.status||412==t.status||t.status,R.a.reject(t)});var C=O.a;r.default.config.productionTip=!1,r.default.use(A.a),r.default.use(E.a),r.default.prototype.axios=C,u.beforeEach(function(e,t,n){n()}),u.afterEach(function(){console.log("afterEach..")}),new r.default({el:"#app",router:u,store:k,components:{App:a},template:"<App/>"})},QC4K:function(e,t){},tvR6:function(e,t){},uMhA:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.0f06efeefac50563a428.js.map