{"version":3,"sources":["webpack:///./src/App.vue?d9f5","webpack:///./src/App.vue","webpack:///./src/router/index.js","webpack:///./src/store/mutations.js","webpack:///./src/store/mutation-types.js","webpack:///./src/store/action.js","webpack:///./src/store/index.js","webpack:///./src/api/api.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","vue_esm","use","vue_router_esm","prototype","goBack","isBack","window","history","go","router","mode","scrollBehavior","to","from","savedPosition","x","y","routes","path","redirect","name","component","r","e","then","bind","catch","oe","beforeEnter","next","console","log","afterEnter","route","mutations","_RECORD_ADDRESS$ADD_C","defineProperty_default","state","_ref","latitude","longitude","_ref2","shopid","category_id","item_id","food_id","price","specs","packing_fee","sku_id","stock","cart","cartList","shop","category","item","num","extends_default","action","getUserInfo","_this","commit","asyncToGenerator_default","regenerator_default","a","mark","_callee","res","wrap","_context","prev","getUser","sent","stop","saveAddress","_this2","_callee2","addres","_context2","removeAddress","length","abrupt","getAddressList","userInfo","user_id","vuex_esm","store","Store","getters","actions","axios_default","defaults","baseURL","headers","common","Object","NODE_ENV","API_TOKEN","post","withCredentials","interceptors","request","moveToken","sessionStorage","getItem","Authorization","error","promise_default","reject","response","data","errcode","parseInt","bus","$emit","newToken","Vue","ls","set","status","api","config","productionTip","vue_ls_default","element_ui_common_default","axios","beforeEach","afterEach","el","components","App","template"],"mappings":"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","file":"static/js/app.3d83000da03ae05ea807.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-66d60146\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-66d60146\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-66d60146\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\n\nVue.use(Router)\nRouter.prototype.goBack = function() {\n  this.isBack = true\n  window.history.go(-1)\n}\n/**\n * \n * @param {*require.ensure} 全部采用按需加载的方式路由，便于webpack打包成多模块\n */\nconst index = r => require.ensure([], () => r(require('@/views/index/index')), 'index');\nconst list = r => require.ensure([], () => r(require('@/views/doctor/list')), 'list');\nconst detail = r => require.ensure([], () => r(require('@/views/doctor/detail')), 'detail');\nexport default new Router({\n  // 哈斯\n  mode: 'history',\n  scrollBehavior(to, from, savedPosition) {\n    // 兼容\n    if (savedPosition) {\n      return savedPosition\n    } else {\n      return {x: 0, y: 0}\n    }\n  },\n  routes: [\n    {\n      // 重定向首页\n      path: '/',\n      redirect: 'index'\n    },\n    {\n      path: '/index',\n      name: 'index',\n      component: index,\n      beforeEnter:(to,from,next)=>{\n\t\t\t\tconsole.log('to',to.path);\n\t\t\t\tconsole.log('from',from.path);\n\t\t\t\tnext();\n\t\t\t},\n\t\t\tafterEnter:(route)=>{\n\t\t\t\tconsole.log(route);\n\t\t\t}\n    },\n    {\n      // 医生列表\n      path: '/doctor/list',\n      component:list\n    },\n    {\n      // 医生详情\n      path: '/doctor/detail/:doctorId',\n      component:detail\n    },\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import {\r\n\tRECORD_ADDRESS,\r\n\tADD_CART,\r\n} from './mutation-types.js'\r\n\r\n// import {setStore, getStore} from '../config/mUtils'\r\n\r\n// import {localapi, proapi} from 'src/config/env'\r\n\r\nexport default {\r\n\t// 记录当前经度纬度\r\n\t[RECORD_ADDRESS](state, {\r\n\t\tlatitude,\r\n\t\tlongitude\r\n\t}) {\r\n\t\tstate.latitude = latitude;\r\n\t\tstate.longitude = longitude;\r\n\t},\r\n\r\n\t// 加入购物车\r\n\t[ADD_CART](state, {\r\n\t\tshopid,\r\n\t\tcategory_id,\r\n\t\titem_id,\r\n\t\tfood_id,\r\n\t\tname,\r\n\t\tprice,\r\n\t\tspecs,\r\n\t\tpacking_fee,\r\n\t\tsku_id,\r\n\t\tstock\r\n\t}) {\r\n\t\tlet cart = state.cartList;\r\n\t\tlet shop = cart[shopid] = (cart[shopid] || {});\r\n\t\tlet category = shop[category_id] = (shop[category_id] || {});\r\n\t\tlet item = category[item_id] = (category[item_id] || {});\r\n\t\tif (item[food_id]) {\r\n\t\t\titem[food_id]['num']++;\r\n\t\t} else {\r\n\t\t\titem[food_id] = {\r\n\t\t\t\t\t\"num\" : 1,\r\n\t\t\t\t\t\"id\" : food_id,\r\n\t\t\t\t\t\"name\" : name,\r\n\t\t\t\t\t\"price\" : price,\r\n\t\t\t\t\t\"specs\" : specs,\r\n\t\t\t\t\t\"packing_fee\" : packing_fee,\r\n\t\t\t\t\t\"sku_id\" : sku_id,\r\n\t\t\t\t\t\"stock\" : stock\r\n\t\t\t};\r\n\t\t}\r\n\t\tstate.cartList = {...cart};\r\n\t\t//存入localStorage\r\n\t\t// setStore('buyCart', state.cartList);\r\n\t},\r\n\t\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations.js","/*\n  mutation类型采用全大写加下划线的方式\n*/\nexport const RECORD_ADDRESS = 'RECORD_ADDRESS'\nexport const ADD_CART = 'ADD_CART'\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutation-types.js","// import {\r\n// \tgetUser,\r\n// \tgetAddressList\r\n// } from '../service/getData'\r\nimport {\r\n\tRECORD_ADDRESS,\r\n\tADD_CART\r\n} from './mutation-types.js'\r\n\r\nexport default {\r\n\r\n\tasync getUserInfo({\r\n\t\tcommit,\r\n\t\tstate\r\n\t}) {\r\n\t\tlet res = await getUser();\r\n\t\tcommit(RECORD_ADDRESS, res)\r\n\t},\r\n\tasync saveAddress({\r\n\t\tcommit,\r\n\t\tstate\r\n\t}) {\r\n\r\n\t\tif(state.removeAddress.length > 0) return;\r\n\r\n\t\tlet addres = await getAddressList(state.userInfo.user_id);\r\n\t\tcommit(ADD_CART, addres);\t\r\n\t},\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/action.js","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport mutations from './mutations'\nimport actions from './action'\nimport getters from './getters'\n\nVue.use(Vuex)\n\nconst state = {\n\tlatitude: '', // 当前状态\n}\n\nexport default new Vuex.Store({\n\tstate,\n\tgetters,\n\tactions,\n\tmutations,\n})\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","// 设置axios,process.env值是根据用户是测试还是生产来读取config中的dev.env和pro.env中的配置\r\nimport axios from 'axios'\r\nimport qs from 'qs';\r\nimport { Message } from \"element-ui\";\r\nconst baseURL = process.env.NODE_ENV === 'development'\r\n  // 测试环境api接口\r\n  ? '/api'\r\n  // 线上环境api接口\r\n  : ' https://www.easy-mock.com/mock/5b2b53bd15c3bc6ee52cfc8d/ca-b2b';\r\naxios.defaults.baseURL = baseURL;\r\naxios.defaults.headers.common['Authorization'] = process.env.API_TOKEN\r\n    // axios.defaults.headers.common['Authorization'] = 'Bearer c92dcc04-e3c1-4628-899f-f9c26a4f7746'; //process.env.API_TOKEN;\r\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded;charset=UTF-8'\r\naxios.defaults.withCredentials = true;\r\n    // 测试\r\n\r\naxios.interceptors.request.use(function(request) {\r\n    // 判断本地是否有token值，有则从新设置token，没有使用token默认配置\r\n     /**\r\n   * 在这里做loading ...\r\n   * @type {string}\r\n   */\r\n\r\n  // 获取token\r\n//   config.headers.common['Authorization'] = 'Bearer ' + Vue.ls.get(\"web-token\");\r\n\r\n    let moveToken = sessionStorage.getItem('token')\r\n    if (moveToken) {\r\n        request.headers.Authorization = `bearer ${moveToken}`\r\n    };\r\n    return request\r\n}, function(error) {\r\n    // 请求错误时做些事\r\n    return Promise.reject(error)\r\n})\r\n// 添加一个响应拦截器\r\naxios.interceptors.response.use(function (response) {\r\n    if (response.data && response.data.errcode) {\r\n      if (parseInt(response.data.errcode) === 40001) {\r\n        //未登录\r\n        bus.$emit('goto', '/login')\r\n      }\r\n    }\r\n  \r\n  /**\r\n   * 在这里做loading 关闭\r\n   */\r\n\r\n    // 如果后端有新的token则重新缓存\r\n    let newToken = response.headers['new-token'];\r\n\r\n    if (newToken) {\r\n      Vue.ls.set(\"web-token\", newToken);\r\n    }\r\n\r\n    return response;\r\n  }, function (error) {\r\n    // Do something with response error\r\n    let response = error.response;\r\n    if (response.status == 401) {\r\n      // 处理401错误\r\n  \r\n    } else if (response.status == 403) {\r\n      // 处理403错误\r\n  \r\n    } else if (response.status == 412) {\r\n      // 处理412错误\r\n  \r\n    } else if (response.status == 413) {\r\n      // 处理413权限不足\r\n  \r\n    }\r\n  \r\n    return Promise.reject(response)\r\n  });\r\n  \r\nexport default axios;\r\n// export default {\r\n//     post(url,data) {\r\n//         console.log(data);\r\n//         console.log(qs.stringify(data));\r\n//       return axios({\r\n//         method: 'post',\r\n//         url: url,\r\n//         data: qs.stringify(data),\r\n//         timeout: 30000,\r\n       \r\n//       })\r\n//     },\r\n  \r\n//     get(url, params) {\r\n//       return axios({\r\n//         method: 'get',\r\n//         url: url,\r\n//         params,\r\n//       })\r\n//     },\r\n  \r\n//     delete(url, params) {\r\n//       return axios({\r\n//         method: 'delete',\r\n//         url: url,\r\n//         params\r\n//       })\r\n//     },\r\n  \r\n//     put(url, data) {\r\n  \r\n//       return axios({\r\n//         method: 'put',\r\n//         url: url,\r\n//         data: qs.stringify(data),\r\n//         timeout: 30000,\r\n//         headers: {\r\n//           'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\r\n//         }\r\n//       })\r\n//     }\r\n//   }\r\n  \r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/api.js","import Vue from 'vue'\r\nimport App from './App'\r\nimport router from './router'\r\nimport store from './store';\r\nimport VueLocalStorage from 'vue-ls';\r\n\r\nVue.config.productionTip = false\r\nVue.use(VueLocalStorage);\r\n\r\n// 引入ElementUI组件\r\nimport ElementUI from 'element-ui';\r\nimport 'element-ui/lib/theme-chalk/index.css';\r\nVue.use(ElementUI);\r\n\r\nimport axios from \"./api/api\";\r\nVue.prototype.axios = axios;\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  next()\r\n});\r\n\r\nrouter.afterEach(() => {\r\n  console.log('afterEach..');\r\n});\r\n\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  store,\r\n  components: {App},\r\n  template: '<App/>'\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}